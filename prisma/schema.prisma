// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// -----------------------------
// Modelos de la base de datos
// -----------------------------

model Usuario {
  id           Int           @id @default(autoincrement())
  nombre       String
  correo       String         @unique
  password     String
  rol          String
  estado       String
  createdAt    DateTime       @default(now())
  dispositivos Dispositivo[]
}

model Dispositivo {
  id         Int      @id @default(autoincrement())
  nombre     String
  tipo       String
  estado     String
  consumo    Float    @default(0) // Nuevo campo para consumo energ√©tico
  usuarioId  Int
  usuario    Usuario  @relation(fields: [usuarioId], references: [id])
  createdAt  DateTime @default(now())
}

// -----------------------------
// Modelo para reportes de soporte
// -----------------------------
model Reporte {
  id        Int      @id @default(autoincrement())
  nombre    String
  correo    String
  mensaje   String
  createdAt DateTime @default(now())
}
